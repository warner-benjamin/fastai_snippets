---

title: Metrics Extended


keywords: fastai
sidebar: home_sidebar

summary: "A backwards compatible reimplementation of fastai metrics to increase usability and flexibility."
description: "A backwards compatible reimplementation of fastai metrics to increase usability and flexibility."
nb_path: "nbs/metrics.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/metrics.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All fastxtend metrics are classes which inherit from fastai's <code>Metric</code> and run on <code>Learner</code> via a modified <code>Recorder</code> callback.</p>
<p>There are three main metric types: <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a>. These correspond one-to-one with fastai's <code>AvgMetric</code>, <code>AccumMetric</code>, and <code>AvgSmoothMetric</code>.</p>
<p>To jump to the fastxtend metrics reference, click <a href="#metrics">here</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-a-Metric">Using a Metric<a class="anchor-link" href="#Using-a-Metric"> </a></h2><p>To use the example accuracy metric (defined in <a href="#creating-a-metric">Creating a Metric</a>) while training, or any fastxtend metrics detailed below, create a <code>Learner</code> like normal (or task specific learner such as <code>vision_learner</code>, <code>text_classifier_learner</code>, etc.) and add the metric(s) to the <a href="/fastxtend/metrics.html"><code>metrics</code></a> argument:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.vision.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">fastxtend.vision.all</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">Learner</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">ExampleAccuracy</span><span class="p">())</span>
</pre></div>
<p>Fastxtend metrics can be mixed with fastai metrics:</p>
<div class="highlight"><pre><span></span><span class="n">Learner</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">ExampleAccuracy</span><span class="p">()])</span>
</pre></div>
<p>Fastxtend metrics can be logged during training, validation, or both by setting the <code>log_metric</code> argument to <a href="/fastxtend/metrics.html#LogMetric.Train"><code>LogMetric.Train</code></a>, <a href="/fastxtend/metrics.html#LogMetric.Valid"><code>LogMetric.Valid</code></a>, or <a href="/fastxtend/metrics.html#LogMetric.Both"><code>LogMetric.Both</code></a>. The sole exception is <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> which only logs during training.
{% include note.html content='By default, a fastxtend metric will log during validation. Fastai metrics can only log during validation. ' %}
To log a fastxtend metric during training pass <a href="/fastxtend/metrics.html#LogMetric.Train"><code>LogMetric.Train</code></a> to <code>log_metric</code>:</p>
<div class="highlight"><pre><span></span><span class="n">Learner</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">ExampleAccuracy</span><span class="p">(</span><span class="n">log_metric</span><span class="o">=</span><span class="n">LogMetric</span><span class="o">.</span><span class="n">Train</span><span class="p">))</span>
</pre></div>
<p>Fastxtend metrics also support custom names via the <code>name</code> argument:</p>
<div class="highlight"><pre><span></span><span class="n">Learner</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">ExampleAccuracy</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;real_metric&#39;</span><span class="p">))</span>
</pre></div>
<p>which will result in ExampleAccuracy logging under "real_metric" instead of the default "example_accuracy".</p>
<p>If a fastxtend metric is logged with multiple <a href="/fastxtend/metrics.html#MetricType"><code>MetricType</code></a>s, the fastxtend <code>Recorder</code> will automatically deduplication the metric names. Unless the metric's <code>name</code> argument is set. Then fastxtend will not deduplicate any metric names.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-a-Metric">Creating a Metric<a class="anchor-link" href="#Creating-a-Metric"> </a></h2><p><a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> all require <code>func</code>, which is a funcational implementation of the metric. The signature of <code>func</code> should be <code>inp,targ</code> (where <code>inp</code> are the predictions of the model and <code>targ</code> the corresponding labels).</p>
<p>Fastxtend metrics can be logged during training, validation, or both by setting the <code>log_metric</code> argument to <a href="/fastxtend/metrics.html#LogMetric.Train"><code>LogMetric.Train</code></a>, <a href="/fastxtend/metrics.html#LogMetric.Valid"><code>LogMetric.Valid</code></a>, or <a href="/fastxtend/metrics.html#LogMetric.Both"><code>LogMetric.Both</code></a>. The sole exception is <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> which only computes during training.</p>
<p><a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> will automatically recognize and pass any <code>func</code>'s unique arguments to <code>func</code>.
{% include important.html content='Some metrics, like Root Mean Squared Error, will have incorrect results if passed to <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a> via <a href="/fastxtend/metrics.html#MetricType.Avg"><code>MetricType.Avg</code></a>, as the mean of multiple batches of RMSE isn&#8217;t equal to the RMSE of the whole dataset. For these metrics use <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a> via <a href="/fastxtend/metrics.html#MetricType.Accum"><code>MetricType.Accum</code></a>.' %}
An example of creating a fastxtend metric from a functional implementation:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">example_accuracy</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="n">targ</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">inp</span> <span class="o">==</span> <span class="n">targ</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">ExampleAccuracy</span><span class="p">(</span><span class="n">dim_argmax</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">log_metric</span><span class="o">=</span><span class="n">LogMetric</span><span class="o">.</span><span class="n">Valid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">AvgMetricX</span><span class="p">(</span><span class="n">example_accuracy</span><span class="p">,</span> <span class="n">dim_argmax</span><span class="o">=</span><span class="n">dim_argmax</span><span class="p">,</span> <span class="n">log_metric</span><span class="o">=</span><span class="n">log_metric</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
<p>Alternatively, use the <a href="/fastxtend/metrics.html#func_to_metric"><code>func_to_metric</code></a> convenience method to create the metric:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ExampleAccuracy</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">log_metric</span><span class="o">=</span><span class="n">LogMetric</span><span class="o">.</span><span class="n">Valid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">func_to_metric</span><span class="p">(</span><span class="n">example_accuracy</span><span class="p">,</span> <span class="n">MetricType</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span> <span class="n">log_metric</span><span class="o">=</span><span class="n">log_metric</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
<p>It is also possible to inherit directly from <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> to create a fastxtend metric.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExampleAccuracy</span><span class="p">(</span><span class="n">MetricX</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dim_argmax</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">log_metric</span><span class="o">=</span><span class="n">LogMetric</span><span class="o">.</span><span class="n">Valid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">dim_argmax</span><span class="o">=</span><span class="n">dim_argmax</span><span class="p">,</span> <span class="n">log_metric</span><span class="o">=</span><span class="n">log_metric</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">preds</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">targs</span> <span class="o">=</span> <span class="p">[],[]</span>

    <span class="k">def</span> <span class="nf">accumulate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">learn</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">accumulate</span><span class="p">(</span><span class="n">learn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">learn</span><span class="o">.</span><span class="n">to_detach</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pred</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">targs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">learn</span><span class="o">.</span><span class="n">to_detach</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">targ</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span>
        <span class="n">preds</span><span class="p">,</span><span class="n">targs</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preds</span><span class="p">),</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">targs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">preds</span> <span class="o">==</span> <span class="n">targs</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
<p>{% include important.html content='If your custom <code>MetricX</code> has state depending on tensors, don&#8217;t forget to store it on the CPU to avoid any potential memory leaks.' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Additional-Metrics-Functionality">Additional Metrics Functionality<a class="anchor-link" href="#Additional-Metrics-Functionality"> </a></h2><p><a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a>, and classes which inherit from <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> such as <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a>, have optional helper functionality in <a href="/fastxtend/metrics.html#MetricX.accumulate"><code>MetricX.accumulate</code></a> to assist in developing metrics.</p>
<p>For classification problems with single label, predictions need to be transformed with a softmax then an argmax before being compared to the targets. Since a softmax doesn't change the order of the numbers, apply the argmax. Pass along <code>dim_argmax</code> to have this done by <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> (usually -1 will work pretty well). If the metric implementation requires probabilities and not predictions, use <code>softmax=True</code>.</p>
<p>For classification problems with multiple labels, or if targets are one-hot encoded, predictions may need to pass through a sigmoid (if it wasn't included in in the model) then be compared to a given threshold (to decide between 0 and 1), this is done by <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> by passing <code>sigmoid=True</code> and/or a value for <code>thresh</code>.</p>
<p><a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> have two additional arguments to assist in creating metrics: <code>to_np</code> and <code>invert_arg</code>.</p>
<p>For example, if using a functional metric from sklearn.metrics, predictions and labels will need to be converted to numpy arrays with <code>to_np=True</code>. Also, scikit-learn metrics adopt the convention <code>y_true</code>, <code>y_preds</code> which is the opposite from fastai, so pass <code>invert_arg=True</code> to make <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> do the inversion. Alternatively, use the <a href="/fastxtend/metrics.html#skm_to_fastxtend"><code>skm_to_fastxtend</code></a> convenience method to handle sklearn.metrics automatically.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LogMetric" class="doc_header"><code>LogMetric</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L33" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [Train, Valid, Both]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MetricType" class="doc_header"><code>MetricType</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L40" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [Avg, Accum, Smooth]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ActivationType" class="doc_header"><code>ActivationType</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L47" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [No, Sigmoid, Softmax, BinarySoftmax]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MetricX" class="doc_header"><code>class</code> <code>MetricX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L55" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MetricX</code>(<strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <code>Metric</code></p>
</blockquote>
<p>Blueprint for defining an extended metric with accumulate</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='By default, a <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> will only log during validation. Metrics can individually set to run during training, validation, or both by passing <a href="/fastxtend/metrics.html#LogMetric.Train"><code>LogMetric.Train</code></a>, <a href="/fastxtend/metrics.html#LogMetric.Valid"><code>LogMetric.Valid</code></a>, or <a href="/fastxtend/metrics.html#LogMetric.Both"><code>LogMetric.Both</code></a> to <code>log_metric</code>, respectively.' %}
For classification problems with single label, predictions need to be transformed with a softmax then an argmax before being compared to the targets. Since a softmax doesn't change the order of the numbers, apply the argmax. Pass along <code>dim_argmax</code> to have this done by <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> (usually -1 will work pretty well). If the metric implementation requires probabilities and not predictions, use <code>softmax=True</code>.</p>
<p>For classification problems with multiple labels, or if targets are one-hot encoded, predictions may need to pass through a sigmoid (if it wasn't included in in the model) then be compared to a given threshold (to decide between 0 and 1), this is done by <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a> by passing <code>sigmoid=True</code> and/or a value for <code>thresh</code>.</p>
<p>Metrics can be simple averages (like accuracy) but sometimes their computation is a little bit more complex and can't be averaged over batches (like precision or recall), which is why we need a special <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a> class for them. For simple functions that can be computed as averages over batches, we can use the class <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, otherwise you'll need to implement the following methods.
{% include note.html content='If your custom <code>MetricX</code> has state depending on tensors, don&#8217;t forget to store it on the CPU to avoid any potential memory leaks.' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MetricX.reset" class="doc_header"><code>MetricX.reset</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L63" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MetricX.reset</code>()</p>
</blockquote>
<p>Reset inner state to prepare for new computation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MetricX.accumulate" class="doc_header"><code>MetricX.accumulate</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L67" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MetricX.accumulate</code>(<strong><code>learn</code></strong>)</p>
</blockquote>
<p>Store targs and preds from <code>learn</code>, using activation function and argmax as appropriate</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MetricX.value" class="doc_header"><code>MetricX.value</code><a href="" class="source_link" style="float:right">[source]</a></h4><p>The value of the metric</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MetricX.name" class="doc_header"><code>MetricX.name</code><a href="" class="source_link" style="float:right">[source]</a></h4><p>Name of the <code>Metric</code>, camel-cased and with Metric removed. Or custom name if provided</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AvgMetricX" class="doc_header"><code>class</code> <code>AvgMetricX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L95" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AvgMetricX</code>(<strong><code>func</code></strong>, <strong><code>to_np</code></strong>=<em><code>False</code></em>, <strong><code>invert_arg</code></strong>=<em><code>False</code></em>, <strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Average the values of <code>func</code> taking into account potential different batch sizes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>func</code> is applied to each batch of predictions/targets and then averaged when <code>value</code> attribute is asked for.The signature of <code>func</code> should be <code>inp,targ</code> (where <code>inp</code> are the predictions of the model and <code>targ</code> the corresponding labels).
{% include important.html content='Some metrics, like Root Mean Squared Error, will have incorrect results if passed to <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, as the mean of multiple batches of RMSE isn&#8217;t equal to the RMSE of the whole dataset. For these metrics use <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>.' %}
If using a functional metric from sklearn.metrics, predictions and labels will need to be converted to numpy arrays with <code>to_np=True</code>. Also, scikit-learn metrics adopt the convention <code>y_true</code>, <code>y_preds</code> which is the opposite from fastai, so pass <code>invert_arg=True</code> to make <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> do the inversion. Alternatively, use the <a href="/fastxtend/metrics.html#skm_to_fastxtend"><code>skm_to_fastxtend</code></a> convenience method to handle sklearn.metrics automatically.</p>
<p>By default, fastxtend's scikit-learn metrics use <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AccumMetricX" class="doc_header"><code>class</code> <code>AccumMetricX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L117" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AccumMetricX</code>(<strong><code>func</code></strong>, <strong><code>to_np</code></strong>=<em><code>False</code></em>, <strong><code>invert_arg</code></strong>=<em><code>False</code></em>, <strong><code>flatten</code></strong>=<em><code>True</code></em>, <strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Stores predictions and targets on CPU in accumulate to perform final calculations with <code>func</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>func</code> is only applied to the accumulated predictions/targets when the <code>value</code> attribute is asked for (so at the end of a validation/training phase, in use with <code>Learner</code> and its <code>Recorder</code>).The signature of <code>func</code> should be <code>inp,targ</code> (where <code>inp</code> are the predictions of the model and <code>targ</code> the corresponding labels).</p>
<p>If using a functional metric from sklearn.metrics, predictions and labels will need to be converted to numpy arrays with <code>to_np=True</code>. Also, scikit-learn metrics adopt the convention <code>y_true</code>, <code>y_preds</code> which is the opposite from fastai, so pass <code>invert_arg=True</code> to make <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> do the inversion. Alternatively, use the <a href="/fastxtend/metrics.html#skm_to_fastxtend"><code>skm_to_fastxtend</code></a> convenience method to handle sklearn.metrics automatically.</p>
<p>By default, fastai's scikit-learn metrics use <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AvgSmoothMetricX" class="doc_header"><code>class</code> <code>AvgSmoothMetricX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L157" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AvgSmoothMetricX</code>(<strong><code>func</code></strong>, <strong><code>beta</code></strong>=<em><code>0.98</code></em>, <strong><code>to_np</code></strong>=<em><code>False</code></em>, <strong><code>invert_arg</code></strong>=<em><code>False</code></em>, <strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Smooth average the values of <code>func</code> (exponentially weighted with <code>beta</code>). Only computed on training set.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>func</code> is only applied to the accumulated predictions/targets when the <code>value</code> attribute is asked for (so at the end of a validation/training phase, in use with <code>Learner</code> and its <code>Recorder</code>).The signature of <code>func</code> should be <code>inp,targ</code> (where <code>inp</code> are the predictions of the model and <code>targ</code> the corresponding labels).</p>
<p>If using a functional metric from sklearn.metrics, predictions and labels will need to be converted to numpy arrays with <code>to_np=True</code>. Also, scikit-learn metrics adopt the convention <code>y_true</code>, <code>y_preds</code> which is the opposite from fastai, so pass <code>invert_arg=True</code> to make <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, and <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a> do the inversion. Alternatively, use the <a href="/fastxtend/metrics.html#skm_to_fastxtend"><code>skm_to_fastxtend</code></a> convenience method to handle sklearn.metrics automatically.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AvgLossX" class="doc_header"><code>class</code> <code>AvgLossX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L181" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AvgLossX</code>(<strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Average the losses taking into account potential different batch sizes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AvgSmoothLossX" class="doc_header"><code>class</code> <code>AvgSmoothLossX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L192" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AvgSmoothLossX</code>(<strong><code>beta</code></strong>=<em><code>0.98</code></em>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Smooth average of the losses (exponentially weighted with <code>beta</code>)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ValueMetricX" class="doc_header"><code>class</code> <code>ValueMetricX</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L206" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ValueMetricX</code>(<strong><code>func</code></strong>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Use to include a pre-calculated metric value (for instance calculated in a <code>Callback</code>) and returned by <code>func</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Recorder--">Recorder -<a class="anchor-link" href="#Recorder--"> </a></h2><p>Patch <code>Recorder</code> to use fastxtend metrics.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Metrics">Metrics<a class="anchor-link" href="#Metrics"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Custom-Metric-Creation">Custom Metric Creation<a class="anchor-link" href="#Custom-Metric-Creation"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="func_to_metric" class="doc_header"><code>func_to_metric</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L327" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>func_to_metric</code>(<strong><code>func</code></strong>, <strong><code>metric_type</code></strong>, <strong><code>is_class</code></strong>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>activation</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert <code>func</code> metric to a fastai metric</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is the quickest way to use a functional metric as a fastxtend metric.</p>
<p><code>metric_type</code> is one of <a href="/fastxtend/metrics.html#MetricType.Avg"><code>MetricType.Avg</code></a>, <a href="/fastxtend/metrics.html#MetricType.Accum"><code>MetricType.Accum</code></a>, or <a href="/fastxtend/metrics.html#MetricType.Smooth"><code>MetricType.Smooth</code></a> which set the metric to use <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a>, <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>, or <a href="/fastxtend/metrics.html#AvgSmoothMetricX"><code>AvgSmoothMetricX</code></a>, respectively.</p>
<p><code>is_class</code> indicates if you are in a classification problem or not. In this case:</p>
<ul>
<li>leaving <code>thresh</code> to <code>None</code> indicates it's a single-label classification problem and predictions will pass through an argmax over <code>axis</code> before being compared to the targets</li>
<li>setting a value for <code>thresh</code> indicates it's a multi-label classification problem and predictions will pass through a sigmoid (can be deactivated with <code>sigmoid=False</code>) and be compared to <code>thresh</code> before being compared to the targets</li>
</ul>
<p>If <code>is_class=False</code>, it indicates you are in a regression problem, and predictions are compared to the targets without being modified. In all cases, <code>kwargs</code> are extra keyword arguments passed to <code>func</code>.
{% include important.html content='Some metrics, like Root Mean Squared Error, will have incorrect results if passed to <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a> via <a href="/fastxtend/metrics.html#MetricType.Avg"><code>MetricType.Avg</code></a>, as the mean of multiple batches of RMSE isn&#8217;t equal to the RMSE of the whole dataset. For these metrics use <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a> by setting <code>metric_type</code> to <a href="/fastxtend/metrics.html#MetricType.Accum"><code>MetricType.Accum</code></a>.' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="skm_to_fastxtend" class="doc_header"><code>skm_to_fastxtend</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L351" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>skm_to_fastxtend</code>(<strong><code>func</code></strong>, <strong><code>is_class</code></strong>=<em><code>True</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>activation</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert <code>func</code> from sklearn.metrics to a fastai metric</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is the quickest way to use a scikit-learn metric using fastxtend metrics. It is the same as <a href="/fastxtend/metrics.html#func_to_metric"><code>func_to_metric</code></a> except it defaults to using <a href="/fastxtend/metrics.html#AccumMetricX"><code>AccumMetricX</code></a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Single-label-classification">Single-label classification<a class="anchor-link" href="#Single-label-classification"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include warning.html content='All functions defined in this section are intended for single-label classification and targets that are not one-hot encoded. For multi-label problems or one-hot encoded targets, use the version suffixed with multi.' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include warning.html content='Many metrics in fastxtend are thin wrappers around sklearn functionality. However, sklearn metrics can handle python list strings, amongst other things, whereas fastxtend metrics work with PyTorch, and thus require tensors. The arguments that are passed to metrics are after all transformations, such as categories being converted to indices, have occurred. This means that when you pass a label of a metric, for instance, that you must pass indices, not strings. This can be converted with <code>vocab.map_obj</code>.' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Accuracy" class="doc_header"><code>Accuracy</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L364" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Accuracy</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Compute accuracy with <code>targ</code> when <code>pred</code> is bs * n_classes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ErrorRate" class="doc_header"><code>ErrorRate</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L374" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ErrorRate</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Compute 1 - accuracy with <code>targ</code> when <code>pred</code> is bs * n_classes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TopKAccuracy" class="doc_header"><code>TopKAccuracy</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L386" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TopKAccuracy</code>(<strong><code>k</code></strong>=<em><code>5</code></em>, <strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Computes the Top-k accuracy (<code>targ</code> is in the top <code>k</code> predictions of <code>inp</code>)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="APScoreBinary" class="doc_header"><code>APScoreBinary</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L392" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>APScoreBinary</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Average Precision for single-label binary classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html#sklearn.metrics.average_precision_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="BalancedAccuracy" class="doc_header"><code>BalancedAccuracy</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L399" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>BalancedAccuracy</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>adjusted</code></strong>=<em><code>False</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Balanced Accuracy for single-label binary classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.balanced_accuracy_score.html#sklearn.metrics.balanced_accuracy_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="BrierScore" class="doc_header"><code>BrierScore</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L405" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>BrierScore</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Brier score for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.brier_score_loss.html#sklearn.metrics.brier_score_loss">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CohenKappa" class="doc_header"><code>CohenKappa</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L411" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>CohenKappa</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>weights</code></strong>=<em><code>None</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Cohen kappa for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.cohen_kappa_score.html#sklearn.metrics.cohen_kappa_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="F1Score" class="doc_header"><code>F1Score</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L417" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>F1Score</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'binary'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>F1 score for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html#sklearn.metrics.f1_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FBeta" class="doc_header"><code>FBeta</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L423" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FBeta</code>(<strong><code>beta</code></strong>, <strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'binary'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>FBeta score with <code>beta</code> for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.fbeta_score.html#sklearn.metrics.fbeta_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="HammingLoss" class="doc_header"><code>HammingLoss</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L430" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>HammingLoss</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Hamming loss for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.hamming_loss.html#sklearn.metrics.hamming_loss">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Jaccard" class="doc_header"><code>Jaccard</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L436" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Jaccard</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'binary'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Jaccard score for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.jaccard_score.html#sklearn.metrics.jaccard_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Precision" class="doc_header"><code>Precision</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L443" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Precision</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'binary'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Precision for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html#sklearn.metrics.precision_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Recall" class="doc_header"><code>Recall</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L450" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Recall</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'binary'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Recall for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html#sklearn.metrics.recall_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="RocAuc" class="doc_header"><code>RocAuc</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L457" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>RocAuc</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>max_fpr</code></strong>=<em><code>None</code></em>, <strong><code>multi_class</code></strong>=<em><code>'ovr'</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Area Under the Receiver Operating Characteristic Curve for single-label multiclass classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html#sklearn.metrics.roc_auc_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="RocAucBinary" class="doc_header"><code>RocAucBinary</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L466" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>RocAucBinary</code>(<strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>max_fpr</code></strong>=<em><code>None</code></em>, <strong><code>multi_class</code></strong>=<em><code>'raise'</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Area Under the Receiver Operating Characteristic Curve for single-label binary classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html#sklearn.metrics.roc_auc_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MatthewsCorrCoef" class="doc_header"><code>MatthewsCorrCoef</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L474" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MatthewsCorrCoef</code>(<strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Matthews correlation coefficient for single-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.matthews_corrcoef.html#sklearn.metrics.matthews_corrcoef">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Multi-label-classification">Multi-label classification<a class="anchor-link" href="#Multi-label-classification"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="AccuracyMulti" class="doc_header"><code>AccuracyMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L485" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>AccuracyMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Compute accuracy when <code>inp</code> and <code>targ</code> are the same size.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="APScoreMulti" class="doc_header"><code>APScoreMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L492" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>APScoreMulti</code>(<strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Average Precision for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html#sklearn.metrics.average_precision_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="BrierScoreMulti" class="doc_header"><code>BrierScoreMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L501" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>BrierScoreMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Brier score for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.brier_score_loss.html#sklearn.metrics.brier_score_loss">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="F1ScoreMulti" class="doc_header"><code>F1ScoreMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L509" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>F1ScoreMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>F1 score for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html#sklearn.metrics.f1_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FBetaMulti" class="doc_header"><code>FBetaMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L518" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FBetaMulti</code>(<strong><code>beta</code></strong>, <strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>FBeta score with <code>beta</code> for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.fbeta_score.html#sklearn.metrics.fbeta_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="HammingLossMulti" class="doc_header"><code>HammingLossMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L527" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>HammingLossMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Hamming loss for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.hamming_loss.html#sklearn.metrics.hamming_loss">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="JaccardMulti" class="doc_header"><code>JaccardMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L535" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>JaccardMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Jaccard score for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.jaccard_score.html#sklearn.metrics.jaccard_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MatthewsCorrCoefMulti" class="doc_header"><code>MatthewsCorrCoefMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L544" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MatthewsCorrCoefMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Matthews correlation coefficient for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.matthews_corrcoef.html#sklearn.metrics.matthews_corrcoef">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="PrecisionMulti" class="doc_header"><code>PrecisionMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L551" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>PrecisionMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Precision for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html#sklearn.metrics.precision_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="RecallMulti" class="doc_header"><code>RecallMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L560" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>RecallMulti</code>(<strong><code>thresh</code></strong>=<em><code>0.5</code></em>, <strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>labels</code></strong>=<em><code>None</code></em>, <strong><code>pos_label</code></strong>=<em><code>1</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Recall for multi-label classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html#sklearn.metrics.recall_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="RocAucMulti" class="doc_header"><code>RocAucMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L569" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>RocAucMulti</code>(<strong><code>sigmoid</code></strong>=<em><code>True</code></em>, <strong><code>average</code></strong>=<em><code>'macro'</code></em>, <strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>max_fpr</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Area Under the Receiver Operating Characteristic Curve for multi-label binary classification problems</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html#sklearn.metrics.roc_auc_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regression">Regression<a class="anchor-link" href="#Regression"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MSE" class="doc_header"><code>MSE</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L581" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MSE</code>(<strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Mean squared error between <code>inp</code> and <code>targ</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="RMSE" class="doc_header"><code>RMSE</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L590" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>RMSE</code>(<strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Mean squared error between <code>inp</code> and <code>targ</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MAE" class="doc_header"><code>MAE</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L601" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MAE</code>(<strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Mean absolute error between <code>inp</code> and <code>targ</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="MSLE" class="doc_header"><code>MSLE</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L612" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>MSLE</code>(<strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Mean squared logarithmic error between <code>inp</code> and <code>targ</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ExpRMSE" class="doc_header"><code>ExpRMSE</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L622" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ExpRMSE</code>(<strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Root mean square percentage error of the exponential of  predictions and targets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ExplainedVariance" class="doc_header"><code>ExplainedVariance</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L627" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ExplainedVariance</code>(<strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Explained variance between predictions and targets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.explained_variance_score.html#sklearn.metrics.explained_variance_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="R2Score" class="doc_header"><code>R2Score</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L633" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>R2Score</code>(<strong><code>sample_weight</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>R2 score between predictions and targets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.r2_score.html#sklearn.metrics.r2_score">scikit-learn documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="PearsonCorrCoef" class="doc_header"><code>PearsonCorrCoef</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L639" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>PearsonCorrCoef</code>(<strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Pearson correlation coefficient for regression problem</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.pearsonr.html?highlight=pearson#scipy.stats.pearsonr">scipy documentation</a> for more details.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SpearmanCorrCoef" class="doc_header"><code>SpearmanCorrCoef</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L646" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SpearmanCorrCoef</code>(<strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>0</code></em>, <strong><code>nan_policy</code></strong>=<em><code>'propagate'</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Spearman correlation coefficient for regression problem</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.spearmanr.html?highlight=spearman#scipy.stats.spearmanr">scipy documentation</a> for more details.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Segmentation">Segmentation<a class="anchor-link" href="#Segmentation"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ForegroundAcc" class="doc_header"><code>ForegroundAcc</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L660" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ForegroundAcc</code>(<strong><code>bkg_idx</code></strong>=<em><code>0</code></em>, <strong><code>axis</code></strong>=<em><code>1</code></em>, <strong><code>metric_type</code></strong>=<em><code>&lt;MetricType.Avg: 1&gt;</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Computes non-background accuracy for multiclass segmentation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Dice" class="doc_header"><code>class</code> <code>Dice</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L666" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Dice</code>(<strong><code>axis</code></strong>=<em><code>1</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Dice coefficient metric for binary target in segmentation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DiceMulti" class="doc_header"><code>class</code> <code>DiceMulti</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L681" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DiceMulti</code>(<strong><code>axis</code></strong>=<em><code>1</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>Averaged Dice metric (Macro F1) for multiclass target in segmentation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The DiceMulti method implements the "Averaged F1: arithmetic mean over harmonic means" described in this publication: <a href="https://arxiv.org/pdf/1911.03347.pdf">https://arxiv.org/pdf/1911.03347.pdf</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="JaccardCoeff" class="doc_header"><code>class</code> <code>JaccardCoeff</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L709" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>JaccardCoeff</code>(<strong><code>axis</code></strong>=<em><code>1</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/fastxtend/metrics.html#Dice"><code>Dice</code></a></p>
</blockquote>
<p>Implementation of the Jaccard coefficient that is lighter in RAM</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="NLP">NLP<a class="anchor-link" href="#NLP"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CorpusBLEUMetric" class="doc_header"><code>class</code> <code>CorpusBLEUMetric</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L715" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CorpusBLEUMetric</code>(<strong><code>vocab_sz</code></strong>=<em><code>5000</code></em>, <strong><code>axis</code></strong>=<em><code>-1</code></em>, <strong><code>log_metric</code></strong>=<em><code>&lt;LogMetric.Valid: 2&gt;</code></em>, <strong><code>name</code></strong>=<em><code>'CorpusBLEU'</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/fastxtend/metrics.html#MetricX"><code>MetricX</code></a></p>
</blockquote>
<p>BLEU Metric calculated over the validation corpus</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The BLEU metric was introduced in <a href="https://www.aclweb.org/anthology/P02-1040">this article</a> to come up with a way to evaluate the performance of translation models. It's based on the precision of n-grams in your prediction compared to your target. See the <a href="https://github.com/fastai/course-nlp/blob/master/bleu_metric.ipynb">fastai NLP course BLEU notebook</a> for a more detailed description of BLEU.</p>
<p>The smoothing used in the precision calculation is the same as in <a href="https://github.com/mjpost/sacrebleu/blob/32c54cdd0dfd6a9fadd5805f2ea189ac0df63907/sacrebleu/sacrebleu.py#L540-L542">SacreBLEU</a>, which in turn is "method 3" from the <a href="http://acl2014.org/acl2014/W14-33/pdf/W14-3346.pdf">Chen &amp; Cherry, 2014</a> paper.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Perplexity" class="doc_header"><code>class</code> <code>Perplexity</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L767" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Perplexity</code>(<strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#AvgLossX"><code>AvgLossX</code></a></p>
</blockquote>
<p>Perplexity (exponential of cross-entropy loss) for Language Models</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LossMetric" class="doc_header"><code>class</code> <code>LossMetric</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L777" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LossMetric</code>(<strong><code>func</code></strong>, <strong><code>to_np</code></strong>=<em><code>False</code></em>, <strong><code>invert_arg</code></strong>=<em><code>False</code></em>, <strong><code>dim_argmax</code></strong>=<em><code>None</code></em>, <strong><code>activation</code></strong>=<em><code>&lt;ActivationType.No: 1&gt;</code></em>, <strong><code>thresh</code></strong>=<em><code>None</code></em>, <strong><code>log_metric</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/fastxtend/metrics.html#AvgMetricX"><code>AvgMetricX</code></a></p>
</blockquote>
<p>Create a metric from <code>loss_func.attr</code> named <code>nm</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="LossMetrics" class="doc_header"><code>LossMetrics</code><a href="https://github.com/warner-benjamin/fastxtend/tree/main/fastxtend/metrics.py#L791" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>LossMetrics</code>(<strong><code>attrs</code></strong>, <strong><code>nms</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>List of <a href="/fastxtend/metrics.html#LossMetric"><code>LossMetric</code></a> for each of <code>attrs</code> and <code>nms</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>


